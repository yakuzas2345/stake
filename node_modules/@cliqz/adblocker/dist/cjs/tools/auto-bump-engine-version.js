"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const path_1 = require("path");
(async () => {
    const engineSourcePath = (0, path_1.resolve)(__dirname, (0, path_1.join)('..', 'src', 'engine', 'engine.ts'));
    const engineSource = await fs_1.promises.readFile(engineSourcePath, 'utf-8');
    await fs_1.promises.writeFile(engineSourcePath, engineSource.replace(/(^export const ENGINE_VERSION =\s+)(\d+)(;$)/m, (match, prefix, version, suffix, offset) => {
        console.log('Match:', { match, prefix, version, suffix, offset });
        const currentVersion = Number(version);
        console.log('Current version:', currentVersion);
        const nextVersion = currentVersion + 1;
        console.log('Next version:', nextVersion);
        return `${prefix}${nextVersion}${suffix}`;
    }), 'utf-8');
})();
//# sourceMappingURL=auto-bump-engine-version.js.map